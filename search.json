[{"path":"https://kwb-r.github.io/kwb.geosalz/articles/data-availability_fri.html","id":"install-r-packages","dir":"Articles","previous_headings":"","what":"1 Install R packages","title":"Data Availability Waterworks Friedrichshagen","text":"","code":"if (! require(\"remotes\")) {   install.packages(\"remotes\", repos = \"https://cloud.r-project.org\") }  remotes::install_github(\"kwb-r/kwb.geosalz\",                           dependencies = TRUE)"},{"path":"https://kwb-r.github.io/kwb.geosalz/articles/data-availability_fri.html","id":"define-paths","dir":"Articles","previous_headings":"","what":"2 Define paths","title":"Data Availability Waterworks Friedrichshagen","text":"","code":"# Define paths and resolve placeholders paths_list <- list(   servername = Sys.getenv(\"servername\"),   root_server = \"//<servername>\",   project = \"geosalz\",   rawdata = \"<root_server>/rawdata/<project>/BWB_labor\",   processing = \"<root_server>/processing/<project>\",   cleaned_data_dir = \"<processing>/labor/cleaned-data\",   cleaned_data_rds = \"<cleaned_data_dir>/cleaned-data.Rds\",   foerdermengen = \"<rawdata>/2018-04-27 Rohwasser Bericht - Galeriefördermengen.xlsx\",   parameters = \"<rawdata>/2018-06-01 Lab Parameter.xlsx\",   figures_dir = \"<processing>/figures\" )  paths <- kwb.utils::resolve(paths_list)"},{"path":"https://kwb-r.github.io/kwb.geosalz/articles/data-availability_fri.html","id":"input-data","dir":"Articles","previous_headings":"","what":"3 Input data","title":"Data Availability Waterworks Friedrichshagen","text":"Checkout Workflow vignette reproducing creation cleaned-data.Rds.","code":"library(kwb.geosalz)  ## Load water quality data (<= 2000, prepared within first phase of Geosalz project!) ## for creation see the \"workflow.Rmd\" vignette  load(file = file.path(paths$cleaned_data_rds))  foerdermengen_ww <- kwb.geosalz::get_foerdermengen(paths$foerdermengen)  foerdermengen_fri_gal <- kwb.geosalz::get_foerdermengen_gal_fri(path = paths$foerdermengen) %>%    dplyr::filter(!is.na(!.data$foerdermenge_m3))   para_info <- kwb.geosalz::get_parameters_meta(paths$parameters)  labordaten_ww_timeseries <- labordaten_ww %>%     dplyr::filter(prufgegenstand == \"Rohwasser\",                   werk == \"FRI\")   readr::write_csv2(labordaten_ww_timeseries,                  file = file.path(paths$figures_dir, \"Zeitreihen_FRI_Guete.csv\"))   labordaten_ww_stats <- labordaten_ww_timeseries %>%   dplyr::group_by(.data$para_id,                   .data$para_kuerzel,                    .data$para_kurzname,                   .data$werk,                    .data$galerie) %>%    dplyr::summarise(date_min = as.Date(min(.data$Date)),                    date_max = as.Date(max(.data$Date)),                    period_days = diff(c(.data$date_min, .data$date_max)),                    number_of_samples = dplyr::n(),                     mean_sampling_intervall_days = round(.data$period_days/.data$number_of_samples, 0)) %>%    dplyr::arrange(.data$para_id, .data$galerie)  readr::write_csv2(labordaten_ww_stats,                  file = file.path(paths$figures_dir, \"Stats_FRI_Guete.csv\"))"},{"path":[]},{"path":"https://kwb-r.github.io/kwb.geosalz/articles/data-availability_fri.html","id":"water-quality","dir":"Articles","previous_headings":"4 Visualisation","what":"4.1 Water quality","title":"Data Availability Waterworks Friedrichshagen","text":"","code":"#Check and in case the export directory is not available create it: fs::dir_create(paths$figures_dir, recurse = TRUE)  print(sprintf(\"Export figures/plots to: %s\", paths$figures_dir))  water_types <- c(\"Rohwasser\")  for (water_type in water_types) {   pdf_file <- file.path(paths$figures_dir,                         sprintf(\"Zeitreihen_FRI_%s_Guete.pdf\",                                 water_type))      cat(sprintf(\"Creating plot:\\n%s\\n\", pdf_file))   pdf(file = pdf_file,       width = 14,       height = 9)   for (sel_para_id in unique(labordaten_ww$para_id)) {     my_selection <- sprintf(\"%s (%s)\",                             para_info$para_kurzname[para_info$para_id == sel_para_id],                             water_type)               tmp <- labordaten_ww %>%       dplyr::filter(prufgegenstand == water_type,                     para_id == sel_para_id,                      werk == \"FRI\") %>%       dplyr::filter(stringr::str_detect(.data$galerie,                                         pattern = \"GWW\",                                         negate = TRUE))          y_label <-  sprintf(\"%s (%s)\",                         para_info$para_kurzname[para_info$para_id == sel_para_id],                         paste0(unique(tmp$UnitName_org), collapse = \", \"))               if (nrow(tmp) > 0) {       cat(sprintf(\"for %s\\n\", my_selection))              g <-         ggplot2::ggplot(tmp,                         mapping = ggplot2::aes_string(x = \"Date\",                                                       y = \"DataValue\",                                                       col = \"galerie\")) +         ggplot2::geom_point() +         ggplot2::geom_line() +         ggplot2::theme_bw() +         ggplot2::ggtitle(label = my_selection) +         ggplot2::labs(x = \"\", y = y_label)              print(g)     } else {       cat(sprintf(\"not data availabe for %s\\n\",                   my_selection))     }   }   dev.off() }"},{"path":[]},{"path":"https://kwb-r.github.io/kwb.geosalz/articles/data-availability_fri.html","id":"total","dir":"Articles","previous_headings":"4 Visualisation > 4.2 Yearly Abstraction Volume","what":"4.2.1 Total","title":"Data Availability Waterworks Friedrichshagen","text":"","code":"pdf_file <- file.path(paths$figures_dir,                       \"Zeitreihen_FRI_Gesamt_Jahresfoerdermengen.pdf\") pdf(file = pdf_file,     width = 14,     height = 9)  foerdermengen_ww %>%   dplyr::filter(.data$Wasserwerk == \"Friedrichshagen\") %>%    ggplot2::ggplot(mapping = ggplot2::aes_string(x = \"year\",                                                 y = \"Foerdermenge_m3\",                                                 col = \"werk\")) +    ggplot2::geom_point() +   ggplot2::geom_line() +   ggplot2::theme_bw() +   ggplot2::ggtitle(label = \"Wasserwerk Friedrichshagen\") +   ggplot2::labs(x = \"Datum\", y = \"Jahresf\\u00F6rdermenge (m3)\") dev.off()"},{"path":"https://kwb-r.github.io/kwb.geosalz/articles/data-availability_fri.html","id":"by-well-galeries","dir":"Articles","previous_headings":"4 Visualisation > 4.2 Yearly Abstraction Volume","what":"4.2.2 By Well Galeries","title":"Data Availability Waterworks Friedrichshagen","text":"","code":"pdf_file <- file.path(paths$figures_dir,                       \"Zeitreihen_FRI_Galerien_Jahresfoerdermengen.pdf\") pdf(file = pdf_file,     width = 14,     height = 9)  foerdermengen_fri_gal %>%     ggplot2::ggplot(mapping = ggplot2::aes_string(x = \"date\",                                                 y = \"foerdermenge_m3\",                                                  col = \"galerie\")) +    ggplot2::geom_point() +   ggplot2::geom_line() +   ggplot2::theme_bw() +   ggplot2::ggtitle(label = \"Brunnengalerien FRI\") +   ggplot2::labs(x = \"Datum\", y = \"Jahresf\\u00F6rdermenge (m3)\") dev.off()   pdf_file <- file.path(paths$figures_dir,                       \"Zeitreihen_FRI_Galerien_Jahresfoerdermengen_multipage.pdf\") pdf(file = pdf_file,     width = 14,     height = 9)  tmp <- foerdermengen_fri_gal %>%     dplyr::mutate(foerdermenge_million_m3 = .data$foerdermenge_m3/1000000)  n_pages <- tmp %>%    dplyr::count(.data$galerie) %>%    dplyr::pull(.data$galerie) %>%    length()    for(page in seq_len(n_pages)) {   print(tmp %>%    ggplot2::ggplot(mapping = ggplot2::aes_string(x = \"date\",                                                  y = \"foerdermenge_million_m3\")) +    ggforce::facet_wrap_paginate(~ galerie, ncol = 1, nrow = 1, page = page) +   #ggplot2::facet_wrap(~ galerie, ncol = 1) +    ggplot2::geom_point() +   ggplot2::geom_line() +   ggplot2::labs(x = \"Datum\", y = \"Foerdermenge (m3/Jahr)\") +   ggplot2::theme_bw()   ) } #dev.off() kwb.utils::finishAndShowPdf(PDF = pdf_file)"},{"path":[]},{"path":[]},{"path":"https://kwb-r.github.io/kwb.geosalz/articles/data-availability_fri.html","id":"packages","dir":"Articles","previous_headings":"5 Session Info","what":"Packages","title":"Data Availability Waterworks Friedrichshagen","text":"","code":"#>  package     * version date (UTC) lib source #>  bslib         0.3.1   2021-10-06 [1] CRAN (R 4.2.0) #>  cachem        1.0.6   2021-08-19 [1] CRAN (R 4.2.0) #>  cli           3.3.0   2022-04-25 [1] CRAN (R 4.2.0) #>  crayon        1.5.1   2022-03-26 [1] CRAN (R 4.2.0) #>  desc          1.4.1   2022-03-06 [1] CRAN (R 4.2.0) #>  digest        0.6.29  2021-12-01 [1] CRAN (R 4.2.0) #>  dplyr       * 1.0.9   2022-04-28 [1] CRAN (R 4.2.0) #>  ellipsis      0.3.2   2021-04-29 [1] CRAN (R 4.2.0) #>  evaluate      0.15    2022-02-18 [1] CRAN (R 4.2.0) #>  fansi         1.0.3   2022-03-24 [1] CRAN (R 4.2.0) #>  fastmap       1.1.0   2021-01-25 [1] CRAN (R 4.2.0) #>  fs            1.5.2   2021-12-08 [1] CRAN (R 4.2.0) #>  generics      0.1.2   2022-01-31 [1] CRAN (R 4.2.0) #>  glue          1.6.2   2022-02-24 [1] CRAN (R 4.2.0) #>  htmltools     0.5.2   2021-08-25 [1] CRAN (R 4.2.0) #>  jquerylib     0.1.4   2021-04-26 [1] CRAN (R 4.2.0) #>  jsonlite      1.8.0   2022-02-22 [1] CRAN (R 4.2.0) #>  knitr         1.39    2022-04-26 [1] CRAN (R 4.2.0) #>  kwb.utils     0.13.0  2022-06-16 [1] Github (KWB-R/kwb.utils@2a6faaa) #>  lifecycle     1.0.1   2021-09-24 [1] CRAN (R 4.2.0) #>  magrittr      2.0.3   2022-03-30 [1] CRAN (R 4.2.0) #>  memoise       2.0.1   2021-11-26 [1] CRAN (R 4.2.0) #>  pillar        1.7.0   2022-02-01 [1] CRAN (R 4.2.0) #>  pkgconfig     2.0.3   2019-09-22 [1] CRAN (R 4.2.0) #>  pkgdown       2.0.4   2022-06-10 [1] CRAN (R 4.2.0) #>  purrr         0.3.4   2020-04-17 [1] CRAN (R 4.2.0) #>  R6            2.5.1   2021-08-19 [1] CRAN (R 4.2.0) #>  ragg          1.2.2   2022-02-21 [1] CRAN (R 4.2.0) #>  rlang         1.0.2   2022-03-04 [1] CRAN (R 4.2.0) #>  rmarkdown     2.14    2022-04-25 [1] CRAN (R 4.2.0) #>  rprojroot     2.0.3   2022-04-02 [1] CRAN (R 4.2.0) #>  sass          0.4.1   2022-03-23 [1] CRAN (R 4.2.0) #>  sessioninfo   1.2.2   2021-12-06 [1] CRAN (R 4.2.0) #>  stringi       1.7.6   2021-11-29 [1] CRAN (R 4.2.0) #>  stringr       1.4.0   2019-02-10 [1] CRAN (R 4.2.0) #>  systemfonts   1.0.4   2022-02-11 [1] CRAN (R 4.2.0) #>  textshaping   0.3.6   2021-10-13 [1] CRAN (R 4.2.0) #>  tibble        3.1.7   2022-05-03 [1] CRAN (R 4.2.0) #>  tidyr       * 1.2.0   2022-02-01 [1] CRAN (R 4.2.0) #>  tidyselect    1.1.2   2022-02-21 [1] CRAN (R 4.2.0) #>  utf8          1.2.2   2021-07-24 [1] CRAN (R 4.2.0) #>  vctrs         0.4.1   2022-04-13 [1] CRAN (R 4.2.0) #>  xfun          0.31    2022-05-10 [1] CRAN (R 4.2.0) #>  yaml          2.3.5   2022-02-21 [1] CRAN (R 4.2.0) #>  #>  [1] D:/a/_temp/Library #>  [2] C:/R/library"},{"path":"https://kwb-r.github.io/kwb.geosalz/articles/data-availability_fri.html","id":"pandoc","dir":"Articles","previous_headings":"5 Session Info","what":"Pandoc","title":"Data Availability Waterworks Friedrichshagen","text":"","code":"#>                                                pandoc_directory pandoc_version #> 1 C:/HOSTED~1/windows/pandoc/270C81~1.3/x64/PANDOC~1.3-W/pandoc          2.7.3"},{"path":"https://kwb-r.github.io/kwb.geosalz/articles/wasserportal.html","id":"define-helper-functions","dir":"Articles","previous_headings":"","what":"Define Helper Functions","title":"Wasserportal","text":"","code":"library(kwb.geosalz)  add_label <- function(df,                       columns = c(\"Nummer\", \"start\",                                   \"end\", \"n\", \"interval\")) {   df %>%     dplyr::mutate(label = wasserportal::columns_to_labels(       data = df,       columns = columns,       fmt = \"<p>%s: %s<\/p>\",       sep = \"\"     )) }  get_data_stats <- function(df, group_col = \"Messstellennummer\") {   df %>%     dplyr::group_by(.data[[group_col]]) %>%     dplyr::summarise(       start = min(as.Date(.data$Datum)),       end = max(as.Date(.data$Datum)),       period = diff(c(.data$start, .data$end)),       n = dplyr::n(),       interval = round(.data$period / .data$n, 0)     )    } library(kwb.geosalz)   ### Set target CRS crs_target <- 4326  ### Load SVM Boundaries shp_svm_path <-   system.file(\"extdata/gis/shapefiles/svm.shp\", package = \"kwb.geosalz\")   svm <- sf::st_read(shp_svm_path) %>%   sf::st_transform(crs = crs_target) #> Reading layer `svm' from data source  #>   `D:\\a\\_temp\\Library\\kwb.geosalz\\extdata\\gis\\shapefiles\\svm.shp'  #>   using driver `ESRI Shapefile' #> Simple feature collection with 1 feature and 3 fields #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 13.45125 ymin: 52.36165 xmax: 13.90684 ymax: 52.68123 #> Geodetic CRS:  WGS 84 sf::st_crs(svm) #> Coordinate Reference System: #>   User input: EPSG:4326  #>   wkt: #> GEOGCRS[\"WGS 84\", #>     DATUM[\"World Geodetic System 1984\", #>         ELLIPSOID[\"WGS 84\",6378137,298.257223563, #>             LENGTHUNIT[\"metre\",1]]], #>     PRIMEM[\"Greenwich\",0, #>         ANGLEUNIT[\"degree\",0.0174532925199433]], #>     CS[ellipsoidal,2], #>         AXIS[\"geodetic latitude (Lat)\",north, #>             ORDER[1], #>             ANGLEUNIT[\"degree\",0.0174532925199433]], #>         AXIS[\"geodetic longitude (Lon)\",east, #>             ORDER[2], #>             ANGLEUNIT[\"degree\",0.0174532925199433]], #>     USAGE[ #>         SCOPE[\"Horizontal component of 3D system.\"], #>         AREA[\"World.\"], #>         BBOX[-90,-180,90,180]], #>     ID[\"EPSG\",4326]]   polygon_svm_fri <- svm$geometry[svm$name == \"Friedrichshagen\"]   stations <- wasserportal::get_stations() #> Importing 9 station overviews from Wasserportal Berlin ... ok. (13.24s)   swl_master <- wasserportal::get_wasserportal_masters_data(   station_ids = stations$overview_list$surface_water.water_level %>%     dplyr::filter(.data$Betreiber == \"SenUVK\") %>%     dplyr::pull(.data$Messstellennummer) )  %>%   kwb.geosalz::convert_to_sf(crs_target = crs_target) %>%   sf::st_filter(y = polygon_svm_fri) %>%   add_label(columns = c(\"Nummer\", \"Gewaesser\", \"Auspraegung\", \"Betreiber\")) #> Importing 61 station metadata from Wasserportal Berlin ... ok. (1.08s)   gwl_master <-   jsonlite::fromJSON(\"https://kwb-r.github.io/wasserportal/stations_gwl_master.json\") %>%   kwb.geosalz::convert_to_sf(crs_target = crs_target) %>%   sf::st_filter(y = polygon_svm_fri)   gwl_data <- data.table::rbindlist(lapply(gwl_master$Nummer,                                          function(id) {                                            wasserportal::read_wasserportal_raw_gw(station = id, stype = \"gwl\")                                          }))    gwl_data_stats <- get_data_stats(gwl_data)  readr::write_csv2(gwl_data_stats,                   file = \"gwl_data_stats.csv\")   gwl_master_stats <- gwl_master %>%   dplyr::left_join(gwl_data_stats, by = c(\"Nummer\" = \"Messstellennummer\")) %>%   add_label()    gwq_master <-   jsonlite::fromJSON(\"https://kwb-r.github.io/wasserportal/stations_gwq_master.json\") %>%   kwb.geosalz::convert_to_sf(crs_target = crs_target) %>%   sf::st_filter(y = polygon_svm_fri)  gwq_data <-   jsonlite::fromJSON(\"https://kwb-r.github.io/wasserportal/stations_gwq_data.json\")  gwq_data_stats <- gwq_data %>%   dplyr::filter(.data$Parameter == \"Chlorid\") %>%   get_data_stats()  readr::write_csv2(gwq_data_stats,                   file = \"gwq_data_stats.csv\")  gwq_master_stats <- gwq_master %>%   dplyr::mutate(Nummer = as.integer(.data$Nummer)) %>%   dplyr::left_join(gwq_data_stats, by = c(\"Nummer\" = \"Messstellennummer\")) %>%   add_label()    # Print Map basemap <- svm %>%   leaflet::leaflet() %>%   leaflet::addTiles() %>%   leaflet::addProviderTiles(leaflet::providers$CartoDB.Positron) %>%   leaflet::addPolygons(color = \"red\", fill = FALSE)   swl_map <-  basemap %>%   leaflet::addCircles(     data = swl_master,     color = \"blue\",     opacity = 0.4,     label = lapply(swl_master$label, htmltools::HTML)   ) %>%   leaflet::addLegend(     position = \"topright\",     colors = c(\"red\", \"darkblue\"),     labels = c(\"SVM Modellgrenze\", \"OW-Stand (Wasserportal)\"),     title = \"Legende\"   )   gwl_map <-  basemap %>%   leaflet::addCircles(     data = gwl_master_stats,     color = \"blue\",     opacity = 0.4,     label = lapply(gwl_master_stats$label, htmltools::HTML)   ) %>%   leaflet::addLegend(     position = \"topright\",     colors = c(\"red\", \"blue\"),     labels = c(\"SVM Modellgrenze\", \"GW-Stand (Wasserportal)\"),     title = \"Legende\"   )   gwq_map <-  basemap %>%   leaflet::addCircles(     data = gwq_master_stats,     color = \"orange\",     opacity = 0.4,     label = lapply(gwq_master_stats$label, htmltools::HTML)   ) %>%   leaflet::addLegend(     position = \"topright\",     colors = c(\"red\", \"orange\"),          labels = c(\"SVM Modellgrenze\", \"GW-G\\u00FCte (Wasserportal)\"),     title = \"Legende\"   )  swl_map"},{"path":"https://kwb-r.github.io/kwb.geosalz/articles/workflow.html","id":"install-r-packages","dir":"Articles","previous_headings":"","what":"1 Install R packages","title":"Workflow","text":"","code":"if (! require(\"remotes\")) {   install.packages(\"remotes\", repos = \"https://cloud.r-project.org\") }  remotes::install_github(\"kwb-r/kwb.geosalz\",                           dependencies = TRUE)"},{"path":[]},{"path":"https://kwb-r.github.io/kwb.geosalz/articles/workflow.html","id":"define-paths","dir":"Articles","previous_headings":"2 Setup the project","what":"2.1 Define paths","title":"Workflow","text":"","code":"# Define paths and resolve placeholders paths <- list(   servername = Sys.getenv(\"servername\"),   root_server = \"//<servername>/processing\",   project = \"geosalz\",   task = \"labor\",   processing = \"<root>/<project>/<task>\",   input_dir = \"<processing>/precleaned-data/v0.2\",   input_dir_meta = \"<input_dir>/META\",   export_dir = \"<processing>/precleaned-data/v0.3\",   export_dir_meta = \"<export_dir>/META\",   cleaned_data_dir = \"<processing>/cleaned-data\",   figures_dir = \"<processing>/figures\",   foerdermengen = \"<export_dir>/2018-04-27 Rohwasser Bericht - Galeriefördermengen.xlsx\",   parameters = \"<export_dir_meta>/2018-06-01 Lab Parameter.xlsx\",   lookup_para = \"<export_dir_meta>/lookup_para.csv\",   sites = \"<export_dir_meta>/Info-Altdaten.xlsx\" )  paths <- kwb.utils::resolve(paths, root = \"root_server\") #paths <- kwb.utils::resolve(paths, root = \"C:/projects\")"},{"path":"https://kwb-r.github.io/kwb.geosalz/articles/workflow.html","id":"check-input-directory","dir":"Articles","previous_headings":"2 Setup the project","what":"2.2 Check input directory","title":"Workflow","text":"Check input directory selected exists:","code":"# Check if input directory exists input_dir <- kwb.utils::safePath(kwb.utils::selectElements(paths, \"input_dir\"))"},{"path":"https://kwb-r.github.io/kwb.geosalz/articles/workflow.html","id":"check-export-directory","dir":"Articles","previous_headings":"2 Setup the project","what":"2.3 Check export directory","title":"Workflow","text":"Check case export directory available create :","code":"# Check if exists and if not create it  if (!dir.exists(paths$export_dir)) {   print(sprintf(\"Creating export directory: %s\", paths$export_dir))   fs::dir_create(paths$export_dir) } export_dir <- kwb.utils::safePath(kwb.utils::selectElements(paths, \"export_dir\")) ## Convert xls to xlsx files kwb.geosalz::convert_xls_as_xlsx(input_dir,                                   export_dir)  ## Copy xlsx files  kwb.geosalz::copy_xlsx_files(input_dir, export_dir, overwrite = TRUE)"},{"path":[]},{"path":"https://kwb-r.github.io/kwb.geosalz/articles/workflow.html","id":"categorise-the-excel-files","dir":"Articles","previous_headings":"3 Data import","what":"3.1 Categorise the Excel Files","title":"Workflow","text":"Select files consist : Header 1 (meta): manually added metadata extra sheet Header 1: single header tables Header 2: two-row header tables Header 4: four row header tables","code":"# Get all xlsx files to be imported files <- dir(export_dir, \".xlsx\", recursive = TRUE, full.names = TRUE)   files_meta <- c(   \"Meta Info\",   \"Header ident\",   \"Parameter ident\",   \"Parameter\",   \"Info-Altdaten\",   \"Brandenburg_Parameter_BWB_Stolpe\",   \"Kopie von Brandenburg_Parameter_BWB_Stolpe\",   \"2005-10BeschilderungProbenahmestellenGWWIII\",   \"Bezeichnungen der Reinwasserstellen\",   \"ReinwasserNomenklatur\",   \"Info zu Altdaten 1970-1998\",   \"2018-06-01 Lab Parameter\" )     files_header1_meta <- c(   \"FRI_Br_GAL_C_Einzelparameter\",   \"FRI_Roh_Rein_NH4+NO3_2001-2003\",   \"MTBE_2003-11_2004\",   \"Reinwasser_2003_Fe_Mn\", ## unclean   \"VC_CN_in Brunnen bis Aug_2005 \", ## unclean   \"Wuhlheide_Beelitzhof_Teildaten\" ## unclean )  files_header1 <- c(   \"2018-04-11 Chlorid in Brunnen - Übersicht\",   \"2018-04-27 LIMS Reiw & Rohw Sammel \",   \"2018-04-27 Rohwasser Bericht - Galeriefördermengen\" )   files_header4 <- c(   \"STO Rohw_1999-6_2004\",   \"Wuhlheide_1999-2003_Okt - Neu\",   \"KAU_1999-Okt2003\" )   files_archive <- \"Siebert\"  files_to_ignore <- c(   files_meta, files_header1, files_header1_meta,   files_header4, files_archive )  in_files_to_ignore <- kwb.utils::removeExtension(basename(files)) %in% files_to_ignore  filepaths_header2 <- files[!in_files_to_ignore]"},{"path":"https://kwb-r.github.io/kwb.geosalz/articles/workflow.html","id":"header-1-with-metadata","dir":"Articles","previous_headings":"3 Data import","what":"3.2 Header 1 (with metadata)","title":"Workflow","text":"","code":"cond1 <- kwb.utils::removeExtension(basename(files)) %in% files_header1_meta filepaths_header1_meta <- files[cond1]   labor_list_1meta <- kwb.geosalz::import_labor(     filepaths_header1_meta ,     export_dir,     func = kwb.geosalz::read_bwb_header1_meta   )     has_errors <- sapply(labor_list_1meta, inherits, \"try-error\")   #has_errors    labor_df_1meta <- data.table::rbindlist(     l = labor_list_1meta[!has_errors],     fill = TRUE   ) library(dplyr) cond2 <- labor_df_1meta$OriginalName %in% c(\"el. Leitfähigkeit (25 °C)\", \"Chlorid\", \"Sulfat\")   labor_df_1meta[cond2 & !is.na(labor_df_1meta$DataValue), ] %>%     dplyr::group_by_(\"OriginalName\", \"Meßstelle\") %>%     dplyr::summarise(n = n())"},{"path":"https://kwb-r.github.io/kwb.geosalz/articles/workflow.html","id":"header-2","dir":"Articles","previous_headings":"3 Data import","what":"3.3 Header 2","title":"Workflow","text":"","code":"labor_header2_list <- kwb.geosalz::import_labor(     files = filepaths_header2,     export_dir = export_dir,     func = kwb.geosalz::read_bwb_header2   )    has_errors <- sapply(labor_header2_list, inherits, \"try-error\")   #has_errors      labor_header2_df <- data.table::rbindlist(     l = labor_header2_list[!has_errors],     fill = TRUE   )"},{"path":"https://kwb-r.github.io/kwb.geosalz/articles/workflow.html","id":"header-4","dir":"Articles","previous_headings":"3 Data import","what":"3.4 Header 4","title":"Workflow","text":"","code":"cond3 <- kwb.utils::removeExtension(basename(files)) %in% files_header4 filepaths_header4 <- files[cond3]  labor_header4_list <- kwb.geosalz::import_labor(     files = filepaths_header4,     export_dir = export_dir,     func = kwb.geosalz::read_bwb_header4   )    has_errors <- sapply(labor_header4_list, inherits, \"try-error\")   has_errors    labor_header4_df <- data.table::rbindlist(     l = labor_header4_list[!has_errors],     fill = TRUE   )"},{"path":[]},{"path":"https://kwb-r.github.io/kwb.geosalz/articles/workflow.html","id":"merging-header2-and-header4","dir":"Articles","previous_headings":"4 Data cleaning","what":"4.1 Merging Header2 and Header4","title":"Workflow","text":"","code":"labor_all <- data.table::rbindlist(     l = list(       x1 = labor_header2_df,       x2 = labor_header4_df     ),     fill = TRUE   )"},{"path":"https://kwb-r.github.io/kwb.geosalz/articles/workflow.html","id":"filtering","dir":"Articles","previous_headings":"4 Data cleaning","what":"4.2 Filtering","title":"Workflow","text":"","code":"labor_all <- labor_all %>%     dplyr::filter(!is.na(.data$DataValue)) %>%     dplyr::mutate(Date = dplyr::if_else(condition = !is.na(.data$Datum),         true = .data$Datum,         false =  .data$Probenahme)) %>%       ### Some \"Datum\" rentries are missing in;       ### K-TL_LSW-Altdaten-Werke Teil 1\\Werke Teil 1\\Kaulsdorf\\KAU_1999-Okt2003.xlsx       ### sheets: 66 KAU Rein 1999-2000, 65 KAU NordSüd 1999-2000     dplyr::filter(!is.na(.data$Date)) %>%     dplyr::filter(!is.na(.data$VariableName_org)) nrow(labor_all)"},{"path":"https://kwb-r.github.io/kwb.geosalz/articles/workflow.html","id":"reducing-dataset-by-adding-metadata","dir":"Articles","previous_headings":"4 Data cleaning","what":"4.3 Reducing dataset by adding metadata","title":"Workflow","text":"","code":"labordaten_ww <- kwb.geosalz::add_para_metadata(     df = labor_all,     lookup_para_path = paths$lookup_para,     parameters_path = paths$parameters   )    labordaten_ww <- kwb.geosalz::add_site_metadata(     df = labordaten_ww,     site_path = paths$sites   ) %>%     dplyr::mutate(       year = as.numeric(format(.data$Date,format = '%Y')),       DataValue = as.numeric(.data$DataValue)     ) nrow(labordaten_ww)"},{"path":"https://kwb-r.github.io/kwb.geosalz/articles/workflow.html","id":"exporting-cleaned-dataset","dir":"Articles","previous_headings":"4 Data cleaning","what":"5. Exporting cleaned dataset","title":"Workflow","text":"","code":"fs::dir_create(paths$cleaned_data_dir, recursive = TRUE)   print(sprintf(\"Export cleaned data to: %s\", paths$cleaned_data_dir))   foerdermengen_ww <- kwb.geosalz::get_foerdermengen(paths$foerdermengen)   save(labordaten_ww, foerdermengen_ww,     file = file.path(paths$cleaned_data_dir, \"cleaned-data.Rds\")   )   write.csv2(labordaten_ww,     file.path(paths$cleaned_data_dir, \"labordaten_ww.csv\"),     row.names = FALSE   )   write.csv2(foerdermengen_ww,     file = file.path(paths$cleaned_data_dir, \"foerdermengen_ww.csv\"),     row.names = FALSE   )"},{"path":"https://kwb-r.github.io/kwb.geosalz/articles/workflow.html","id":"visualisation","dir":"Articles","previous_headings":"4 Data cleaning","what":"6. Visualisation","title":"Workflow","text":"","code":"library(ggplot2)   fs::dir_create(paths$figures_dir, recursive = TRUE)   print(sprintf(\"Export figures/plots to: %s\", paths$figures_dir))      para_info <- kwb.geosalz::get_parameters_meta(paths$parameters)   water_types <- c(\"Reinwasser\", \"Rohwasser\")     for (water_type in water_types) {     pdf_file <- file.path(       paths$figures_dir,       sprintf(         \"Zeitreihen_Jahresmittelwerte_Werke_%s.pdf\",         water_type       )     )      cat(sprintf(\"Creating plot:\\n%s\\n\", pdf_file))     pdf(file = pdf_file, width = 14, height = 9)     for (sel_para_id in unique(labordaten_ww$para_id)) {       my_selection <- sprintf(         \"%s (%s)\",         para_info$para_kurzname[para_info$para_id == sel_para_id],         water_type       )        tmp <- labordaten_ww %>%         dplyr::filter(prufgegenstand == water_type) %>%         dplyr::filter(para_id == sel_para_id) %>%         dplyr::group_by(.data$para_kurzname, .data$werk, .data$year) %>%         dplyr::summarise(mean_DataValue = mean(as.numeric(.data$DataValue), na.rm=TRUE)) %>%         dplyr::filter(!is.na(.data$werk)) %>%         dplyr::left_join(           y = kwb.geosalz::get_foerdermengen(paths$foerdermengen),           by = c(\"werk\", \"year\")         )        if (nrow(tmp) > 0) {         cat(sprintf(\"for %s\\n\", my_selection))          g <- ggplot2::ggplot(tmp, mapping = ggplot2::aes_string(           x = \"year\",           y = \"mean_DataValue\",           col = \"werk\"         )) +           ggplot2::geom_point() +           ggplot2::geom_line() +           ggplot2::theme_bw() +           ggplot2::ggtitle(label = my_selection) +           ggplot2::labs(x = \"\", y = \"Jahresmittelwert\")          print(g)       } else {         cat(sprintf(           \"not data availabe for %s\\n\",           my_selection         ))       }     }     dev.off()   }"},{"path":[]},{"path":[]},{"path":"https://kwb-r.github.io/kwb.geosalz/articles/workflow.html","id":"packages","dir":"Articles","previous_headings":"7 Session Info","what":"Packages","title":"Workflow","text":"","code":"#>  package     * version date (UTC) lib source #>  bslib         0.3.1   2021-10-06 [1] CRAN (R 4.2.0) #>  cachem        1.0.6   2021-08-19 [1] CRAN (R 4.2.0) #>  cli           3.3.0   2022-04-25 [1] CRAN (R 4.2.0) #>  crayon        1.5.1   2022-03-26 [1] CRAN (R 4.2.0) #>  desc          1.4.1   2022-03-06 [1] CRAN (R 4.2.0) #>  digest        0.6.29  2021-12-01 [1] CRAN (R 4.2.0) #>  dplyr       * 1.0.9   2022-04-28 [1] CRAN (R 4.2.0) #>  ellipsis      0.3.2   2021-04-29 [1] CRAN (R 4.2.0) #>  evaluate      0.15    2022-02-18 [1] CRAN (R 4.2.0) #>  fansi         1.0.3   2022-03-24 [1] CRAN (R 4.2.0) #>  fastmap       1.1.0   2021-01-25 [1] CRAN (R 4.2.0) #>  fs            1.5.2   2021-12-08 [1] CRAN (R 4.2.0) #>  generics      0.1.2   2022-01-31 [1] CRAN (R 4.2.0) #>  glue          1.6.2   2022-02-24 [1] CRAN (R 4.2.0) #>  htmltools     0.5.2   2021-08-25 [1] CRAN (R 4.2.0) #>  jquerylib     0.1.4   2021-04-26 [1] CRAN (R 4.2.0) #>  jsonlite      1.8.0   2022-02-22 [1] CRAN (R 4.2.0) #>  knitr         1.39    2022-04-26 [1] CRAN (R 4.2.0) #>  kwb.utils     0.13.0  2022-06-16 [1] Github (KWB-R/kwb.utils@2a6faaa) #>  lifecycle     1.0.1   2021-09-24 [1] CRAN (R 4.2.0) #>  magrittr      2.0.3   2022-03-30 [1] CRAN (R 4.2.0) #>  memoise       2.0.1   2021-11-26 [1] CRAN (R 4.2.0) #>  pillar        1.7.0   2022-02-01 [1] CRAN (R 4.2.0) #>  pkgconfig     2.0.3   2019-09-22 [1] CRAN (R 4.2.0) #>  pkgdown       2.0.4   2022-06-10 [1] CRAN (R 4.2.0) #>  purrr         0.3.4   2020-04-17 [1] CRAN (R 4.2.0) #>  R6            2.5.1   2021-08-19 [1] CRAN (R 4.2.0) #>  ragg          1.2.2   2022-02-21 [1] CRAN (R 4.2.0) #>  rlang         1.0.2   2022-03-04 [1] CRAN (R 4.2.0) #>  rmarkdown     2.14    2022-04-25 [1] CRAN (R 4.2.0) #>  rprojroot     2.0.3   2022-04-02 [1] CRAN (R 4.2.0) #>  sass          0.4.1   2022-03-23 [1] CRAN (R 4.2.0) #>  sessioninfo   1.2.2   2021-12-06 [1] CRAN (R 4.2.0) #>  stringi       1.7.6   2021-11-29 [1] CRAN (R 4.2.0) #>  stringr       1.4.0   2019-02-10 [1] CRAN (R 4.2.0) #>  systemfonts   1.0.4   2022-02-11 [1] CRAN (R 4.2.0) #>  textshaping   0.3.6   2021-10-13 [1] CRAN (R 4.2.0) #>  tibble        3.1.7   2022-05-03 [1] CRAN (R 4.2.0) #>  tidyr       * 1.2.0   2022-02-01 [1] CRAN (R 4.2.0) #>  tidyselect    1.1.2   2022-02-21 [1] CRAN (R 4.2.0) #>  utf8          1.2.2   2021-07-24 [1] CRAN (R 4.2.0) #>  vctrs         0.4.1   2022-04-13 [1] CRAN (R 4.2.0) #>  xfun          0.31    2022-05-10 [1] CRAN (R 4.2.0) #>  yaml          2.3.5   2022-02-21 [1] CRAN (R 4.2.0) #>  #>  [1] D:/a/_temp/Library #>  [2] C:/R/library"},{"path":"https://kwb-r.github.io/kwb.geosalz/articles/workflow.html","id":"pandoc","dir":"Articles","previous_headings":"7 Session Info > Packages","what":"Pandoc","title":"Workflow","text":"","code":"#>                                                pandoc_directory pandoc_version #> 1 C:/HOSTED~1/windows/pandoc/270C81~1.3/x64/PANDOC~1.3-W/pandoc          2.7.3"},{"path":"https://kwb-r.github.io/kwb.geosalz/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Michael Rustler. Author, maintainer. Hauke Sonnenberg. Contributor. . Funder. . Copyright holder.","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Rustler M (2022). kwb.geosalz: R Package Documenting Workflow Used Project \"geosalz\". R package version 0.2.0, https://github.com/KWB-R/kwb.geosalz.","code":"@Manual{,   title = {kwb.geosalz: R Package for Documenting Workflow Used in Project \"geosalz\"},   author = {Michael Rustler},   year = {2022},   note = {R package version 0.2.0},   url = {https://github.com/KWB-R/kwb.geosalz}, }"},{"path":"https://kwb-r.github.io/kwb.geosalz/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"R Package for Documenting Workflow Used in Project ","text":"installing latest release R package run following code :","code":"# Enable repository from kwb-r options(repos = c(   kwbr = 'https://kwb-r.r-universe.dev',   CRAN = 'https://cloud.r-project.org'))    # Download and install kwb.geosalz in R install.packages('kwb.geosalz')  # Browse the kwb.geosalz manual pages help(package = 'kwb.geosalz')"},{"path":"https://kwb-r.github.io/kwb.geosalz/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"R Package for Documenting Workflow Used in Project ","text":"Checkout Workflow article use R package.","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2018-2022 Kompetenzzentrum Wasser Berlin gGmbH (KWB) Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/add_para_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"add_para_metadata — add_para_metadata","title":"add_para_metadata — add_para_metadata","text":"add_para_metadata","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/add_para_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"add_para_metadata — add_para_metadata","text":"","code":"add_para_metadata(df, lookup_para_path, parameters_path)"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/add_para_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"add_para_metadata — add_para_metadata","text":"df df lookup_para_path lookup_para_path parameters_path parameters_path","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/add_para_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"add_para_metadata — add_para_metadata","text":"return \"df\" added parameter metadata","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/add_site_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"add_site_metadata — add_site_metadata","title":"add_site_metadata — add_site_metadata","text":"add_site_metadata","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/add_site_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"add_site_metadata — add_site_metadata","text":"","code":"add_site_metadata(df, site_path)"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/add_site_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"add_site_metadata — add_site_metadata","text":"df df site_path site_path","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/add_site_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"add_site_metadata — add_site_metadata","text":"data frame added site metadata","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/cat_green_bold_0.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function: cat_green_bold_0 — cat_green_bold_0","title":"Helper function: cat_green_bold_0 — cat_green_bold_0","text":"Helper function: cat_green_bold_0","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/cat_green_bold_0.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function: cat_green_bold_0 — cat_green_bold_0","text":"","code":"cat_green_bold_0(...)"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/cat_green_bold_0.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper function: cat_green_bold_0 — cat_green_bold_0","text":"... text passed crayon::green()","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/cat_green_bold_0.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Helper function: cat_green_bold_0 — cat_green_bold_0","text":"formatted text output","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/cat_red_bold_0.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function: cat_red_bold_0 — cat_red_bold_0","title":"Helper function: cat_red_bold_0 — cat_red_bold_0","text":"Helper function: cat_red_bold_0","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/cat_red_bold_0.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function: cat_red_bold_0 — cat_red_bold_0","text":"","code":"cat_red_bold_0(...)"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/cat_red_bold_0.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper function: cat_red_bold_0 — cat_red_bold_0","text":"... text passed crayon::red","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/cat_red_bold_0.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Helper function: cat_red_bold_0 — cat_red_bold_0","text":"formatted text output","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/convert_to_sf.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert to SF — convert_to_sf","title":"Convert to SF — convert_to_sf","text":"Convert SF","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/convert_to_sf.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert to SF — convert_to_sf","text":"","code":"convert_to_sf(   df,   crs_source = 25833,   crs_target = 4326,   col_coord_x = \"Rechtswert_UTM_33_N\",   col_cood_y = \"Hochwert_UTM_33_N\" )"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/convert_to_sf.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert to SF — convert_to_sf","text":"df data frame tibble spatial data crs_source origingal CRS (default: 25833) crs_target target CRS (default: 4326) col_coord_x column name latitude (default: \"Rechtswert_UTM_33_N\") col_cood_y column name longitude (default: \"Hochwert_UTM_33_N\")","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/convert_to_sf.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert to SF — convert_to_sf","text":"data frame tibble converted sf","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/convert_to_sf.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert to SF — convert_to_sf","text":"","code":"gwl_master <- jsonlite::fromJSON(\"https://kwb-r.github.io/wasserportal/stations_gwl_master.json\") convert_to_sf(gwl_master) #> Simple feature collection with 868 features and 12 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 13.09291 ymin: 52.34336 xmax: 13.75514 ymax: 52.66923 #> Geodetic CRS:  WGS 84 #> First 10 features: #>    Nummer        Bezirk Betreiber            Auspraegung #> 1       1 Reinickendorf     Senat               GW-Stand #> 2       2 Reinickendorf     Senat               GW-Stand #> 3       3 Reinickendorf     Senat     GW-Stand + GW-Güte #> 4       4 Reinickendorf     Senat               GW-Stand #> 5       9 Reinickendorf     Senat               GW-Stand #> 6      24 Reinickendorf     Senat               GW-Stand #> 7      25 Reinickendorf     Senat               GW-Stand #> 8      26 Reinickendorf     Senat GW-Stand, tagesaktuell #> 9      30 Reinickendorf     Senat               GW-Stand #> 10     31         Mitte     Senat               GW-Stand #>                       Grundwasserleiter Gelaendeoberkante_GOK_m_ue_NHN #> 1  Hauptgrundwasserleiter (GWL 1.3 + 2)                          49.20 #> 2  Hauptgrundwasserleiter (GWL 1.3 + 2)                          37.65 #> 3  Hauptgrundwasserleiter (GWL 1.3 + 2)                          37.87 #> 4  Hauptgrundwasserleiter (GWL 1.3 + 2)                          39.88 #> 5  Hauptgrundwasserleiter (GWL 1.3 + 2)                          42.14 #> 6  Hauptgrundwasserleiter (GWL 1.3 + 2)                          40.25 #> 7  Hauptgrundwasserleiter (GWL 1.3 + 2)                          41.98 #> 8  Hauptgrundwasserleiter (GWL 1.3 + 2)                          42.70 #> 9  Hauptgrundwasserleiter (GWL 1.3 + 2)                          39.63 #> 10 Hauptgrundwasserleiter (GWL 1.3 + 2)                          36.88 #>    Rohroberkante_m_ue_NHN Filteroberkante_m_u_GOK Filterunterkante_m_u_GOK Name #> 1                   49.49                   37.34                    39.34 <NA> #> 2                   38.06                   15.59                    17.59 <NA> #> 3                   38.65                   12.27                    13.27 <NA> #> 4                   40.36                   16.00                    18.00 <NA> #> 5                   42.67                   17.70                    18.70 <NA> #> 6                   40.43                   10.88                    11.88 <NA> #> 7                   42.26                    5.47                     6.47 <NA> #> 8                   43.56                   11.74                    12.74 <NA> #> 9                   39.90                   12.00                    13.00 <NA> #> 10                  37.20                   14.27                    15.27 <NA> #>    Gewaesser Flusskilometer                  geometry #> 1       <NA>           <NA> POINT (13.29246 52.62309) #> 2       <NA>           <NA> POINT (13.31921 52.62262) #> 3       <NA>           <NA>  POINT (13.3131 52.61408) #> 4       <NA>           <NA>  POINT (13.2926 52.60773) #> 5       <NA>           <NA>  POINT (13.35574 52.6204) #> 6       <NA>           <NA> POINT (13.35287 52.56763) #> 7       <NA>           <NA> POINT (13.36019 52.57023) #> 8       <NA>           <NA> POINT (13.36547 52.57433) #> 9       <NA>           <NA> POINT (13.35975 52.56318) #> 10      <NA>           <NA> POINT (13.33933 52.55427)"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/convert_xls_as_xlsx.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert xls to xlsx — convert_xls_as_xlsx","title":"Convert xls to xlsx — convert_xls_as_xlsx","text":"Convert xls xlsx","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/convert_xls_as_xlsx.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert xls to xlsx — convert_xls_as_xlsx","text":"","code":"convert_xls_as_xlsx(   input_dir,   export_dir = tempdir(),   office_folder = safe_office_folder(),   dbg = TRUE )"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/convert_xls_as_xlsx.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert xls to xlsx — convert_xls_as_xlsx","text":"input_dir input directory containing .xls files export_dir export directory (default: tempdir()) office_folder office folder path (default: safe_office_folder) dbg debug (default: TRUE)","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/convert_xls_to_xlsx.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function: convert_xls_to_xlsx — convert_xls_to_xlsx","title":"Helper function: convert_xls_to_xlsx — convert_xls_to_xlsx","text":"Helper function: convert_xls_to_xlsx","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/convert_xls_to_xlsx.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function: convert_xls_to_xlsx — convert_xls_to_xlsx","text":"","code":"convert_xls_to_xlsx(exe, xls, xlsx, i, n_files, dbg = TRUE)"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/convert_xls_to_xlsx.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper function: convert_xls_to_xlsx — convert_xls_to_xlsx","text":"exe exe xls xls xlsx xlsx n_files n_files dbg debug (default: TRUE)","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/copy_lookup_para_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function: copy_lookup_para_file — copy_lookup_para_file","title":"Helper function: copy_lookup_para_file — copy_lookup_para_file","text":"Helper function: copy_lookup_para_file","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/copy_lookup_para_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function: copy_lookup_para_file — copy_lookup_para_file","text":"","code":"copy_lookup_para_file(   from_dir,   to_dir,   overwrite = FALSE,   recursive = TRUE,   file_pattern = \"^lookup_para\\\\.csv$\" )"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/copy_lookup_para_file.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper function: copy_lookup_para_file — copy_lookup_para_file","text":"from_dir input directory xlsx files to_dir target directory copy xlsx files overwrite existing files overwritten (TRUE) otherwise (FALSE) ? (default: FALSE) recursive TRUE recursively find xlsx files directory specified parameter \"from_dir\" (default: TRUE) file_pattern pattern identifying lookup_para file (default: \"^lookup_para\\.csv$\")","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/copy_xlsx_files.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function: copy_xlsx_files — copy_xlsx_files","title":"Helper function: copy_xlsx_files — copy_xlsx_files","text":"Helper function: copy_xlsx_files","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/copy_xlsx_files.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function: copy_xlsx_files — copy_xlsx_files","text":"","code":"copy_xlsx_files(   from_dir,   to_dir,   overwrite = FALSE,   recursive = TRUE,   file_pattern = \"[xX][lL][sS][xX]\" )"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/copy_xlsx_files.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper function: copy_xlsx_files — copy_xlsx_files","text":"from_dir input directory xlsx files to_dir target directory copy xlsx files overwrite existing files overwritten (TRUE) otherwise (FALSE) ? (default: FALSE) recursive TRUE recursively find xlsx files directory specified parameter \"from_dir\" (default: TRUE) file_pattern pattern identifying xlsx fles (default: \"[xX][lL][sS][xX]\")","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/delete_registry.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function: delete_registry — delete_registry","title":"Helper function: delete_registry — delete_registry","text":"Helper function: delete_registry","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/delete_registry.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function: delete_registry — delete_registry","text":"","code":"delete_registry(office_folder = safe_office_folder(), dbg = TRUE)"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/delete_registry.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper function: delete_registry — delete_registry","text":"office_folder office folder path (default: safe_office_folder) dbg debug (default: TRUE)","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/gather_and_join_1.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function: gather_and_join_1 — gather_and_join_1","title":"Helper function: gather_and_join_1 — gather_and_join_1","text":"Helper function: gather_and_join_1","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/gather_and_join_1.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function: gather_and_join_1 — gather_and_join_1","text":"","code":"gather_and_join_1(tmp_data, columns_keep, metadata, dbg = FALSE)"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/gather_and_join_1.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper function: gather_and_join_1 — gather_and_join_1","text":"tmp_data tmp_data columns_keep columns_keep metadata metadata dbg dbg (default: FALSE)","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/gather_and_join_1.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Helper function: gather_and_join_1 — gather_and_join_1","text":"gathered joined data frame","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/gather_and_join_2.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function: gather_and_join_2 — gather_and_join_2","title":"Helper function: gather_and_join_2 — gather_and_join_2","text":"Helper function: gather_and_join_2","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/gather_and_join_2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function: gather_and_join_2 — gather_and_join_2","text":"","code":"gather_and_join_2(tmp_content, columns_keep, header)"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/gather_and_join_2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper function: gather_and_join_2 — gather_and_join_2","text":"tmp_content tmp_content columns_keep columns_keep header header","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/gather_and_join_2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Helper function: gather_and_join_2 — gather_and_join_2","text":"gathered joined data frame","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/gather_ignore.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function: gather_ignore — gather_ignore","title":"Helper function: gather_ignore — gather_ignore","text":"Helper function: gather_ignore","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/gather_ignore.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function: gather_ignore — gather_ignore","text":"","code":"gather_ignore(   fields = c(\"Datum\", \"KN\", \"[iI]nterne Nr.\", \"Name der\", \"Ort\", \"Probe\", \"Prü\",     \"Untersuchung\", \"Labor\", \"Jahr\", \"Galer\", \"Detail\", \"Meß\", \"Zeit\", \"Bezei\", \"Monat\") )"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/gather_ignore.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper function: gather_ignore — gather_ignore","text":"fields column names ignored gathering (default: c( \"Datum\", \"KN\", \"[iI]nterne Nr.\", \"Name der\", \"Ort\", \"Probe\", \"Pr\\u00FC\", \"Untersuchung\", \"Labor\", \"Jahr\", \"Galer\", \"Detail\", \"\\u00DF\", \"Zeit\", \"Bezei\", \"Monat\")","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/gather_ignore.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Helper function: gather_ignore — gather_ignore","text":"vector ignored columns gathering","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/gather_ignore_clean.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function: gather_ignore_clean — gather_ignore_clean","title":"Helper function: gather_ignore_clean — gather_ignore_clean","text":"Helper function: gather_ignore_clean","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/gather_ignore_clean.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function: gather_ignore_clean — gather_ignore_clean","text":"","code":"gather_ignore_clean(   fields = c(\"LabSampleCode\", \"Date\", \"Time\", \"Waterbody\", \"ExSiteCode\", \"Site\") )"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/gather_ignore_clean.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper function: gather_ignore_clean — gather_ignore_clean","text":"fields column names ignored gathering (default: c(\"LabSampleCode\", \"Date\", \"Time\", \"Waterbody\", \"ExSiteCode\", Site\")","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/gather_ignore_clean.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Helper function: gather_ignore_clean — gather_ignore_clean","text":"vector ignored columns gathering","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/get_excelcnv_exe.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function: get_excelcnv_exe — get_excelcnv_exe","title":"Helper function: get_excelcnv_exe — get_excelcnv_exe","text":"Helper function: get_excelcnv_exe","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/get_excelcnv_exe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function: get_excelcnv_exe — get_excelcnv_exe","text":"","code":"get_excelcnv_exe(office_folder = safe_office_folder())"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/get_excelcnv_exe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper function: get_excelcnv_exe — get_excelcnv_exe","text":"office_folder office folder path (default: safe_office_folder","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/get_excelcnv_exe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Helper function: get_excelcnv_exe — get_excelcnv_exe","text":"path containing 'excelcnv.exe'","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/get_foerdermengen.html","id":null,"dir":"Reference","previous_headings":"","what":"get_foerdermengen — get_foerdermengen","title":"get_foerdermengen — get_foerdermengen","text":"get_foerdermengen","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/get_foerdermengen.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get_foerdermengen — get_foerdermengen","text":"","code":"get_foerdermengen(   xlsx_path,   sheet_name = \"WW Q Rhow \",   sheet_range = \"A4:S127\" )"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/get_foerdermengen.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get_foerdermengen — get_foerdermengen","text":"xlsx_path path xlsx file pumping rates sheet_name sheet_name (default: \"WW Q Rhow \") sheet_range sheet_range  (default: \"A4:S127\")","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/get_foerdermengen.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"get_foerdermengen — get_foerdermengen","text":"data frame annual pumping rates per waterworks","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/get_foerdermengen_gal_fri.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Abtraction of Friedrichshagen Well Galleries — get_foerdermengen_gal_fri","title":"Get Abtraction of Friedrichshagen Well Galleries — get_foerdermengen_gal_fri","text":"Get Abtraction Friedrichshagen Well Galleries","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/get_foerdermengen_gal_fri.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Abtraction of Friedrichshagen Well Galleries — get_foerdermengen_gal_fri","text":"","code":"get_foerdermengen_gal_fri(path)"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/get_foerdermengen_gal_fri.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Abtraction of Friedrichshagen Well Galleries — get_foerdermengen_gal_fri","text":"path path \"2018-04-27 Rohwasser Bericht - Galeriefördermengen.xlsx\"","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/get_foerdermengen_gal_fri.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Abtraction of Friedrichshagen Well Galleries — get_foerdermengen_gal_fri","text":"tidy data frame abstraction rates waterworks Friedrichshagen","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/get_meta_sheet_or_stop.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function: get_meta_sheet_or_stop — get_meta_sheet_or_stop","title":"Helper function: get_meta_sheet_or_stop — get_meta_sheet_or_stop","text":"Helper function: get_meta_sheet_or_stop","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/get_meta_sheet_or_stop.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function: get_meta_sheet_or_stop — get_meta_sheet_or_stop","text":"","code":"get_meta_sheet_or_stop(sheets, pattern, file)"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/get_meta_sheet_or_stop.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper function: get_meta_sheet_or_stop — get_meta_sheet_or_stop","text":"sheets sheets pattern pattern file file","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/get_meta_sheet_or_stop.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Helper function: get_meta_sheet_or_stop — get_meta_sheet_or_stop","text":"meta sheet name","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/get_parameters_meta.html","id":null,"dir":"Reference","previous_headings":"","what":"get_parameters_meta — get_parameters_meta","title":"get_parameters_meta — get_parameters_meta","text":"get_parameters_meta","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/get_parameters_meta.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get_parameters_meta — get_parameters_meta","text":"","code":"get_parameters_meta(xlsx_path, sheet_name = \"nur Parameterliste\")"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/get_parameters_meta.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get_parameters_meta — get_parameters_meta","text":"xlsx_path path EXCEL spreadsheet parameter metadata sheet_name name sheet containing metadata table (default: \"nur Parameterliste\")","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/get_parameters_meta.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"get_parameters_meta — get_parameters_meta","text":"imported parameter metadata cleaned columns names","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/get_site_id.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function: get_site_id — get_site_id","title":"Helper function: get_site_id — get_site_id","text":"Helper function: get_site_id","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/get_site_id.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function: get_site_id — get_site_id","text":"","code":"get_site_id(string, pattern = \"^[0-9]{1,4}\")"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/get_site_id.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper function: get_site_id — get_site_id","text":"string vector character strings pattern pattern used identifying site_id (default: \"^[0-9]1,4\")","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/get_site_id.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Helper function: get_site_id — get_site_id","text":"extracted site_id`s input string","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/import_labor.html","id":null,"dir":"Reference","previous_headings":"","what":"import_labor — import_labor","title":"import_labor — import_labor","text":"import_labor","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/import_labor.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"import_labor — import_labor","text":"","code":"import_labor(files, export_dir, func = read_bwb_header2)"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/import_labor.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"import_labor — import_labor","text":"files vector full paths xlsx input files export_dir export directory func function used (default: read_bwb_header2)","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/import_labor.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"import_labor — import_labor","text":"list length equal number input files","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/print_datatype_info_if.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function: print_datatype_info_if — print_datatype_info_if","title":"Helper function: print_datatype_info_if — print_datatype_info_if","text":"Helper function: print_datatype_info_if","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/print_datatype_info_if.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function: print_datatype_info_if — print_datatype_info_if","text":"","code":"print_datatype_info_if(dbg, tbl_datatypes, columns_keep)"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/print_datatype_info_if.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper function: print_datatype_info_if — print_datatype_info_if","text":"dbg dbg tbl_datatypes tbl_datatypes columns_keep columns_keep","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/read_bwb_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Import: read_bwb_data — read_bwb_data","title":"Import: read_bwb_data — read_bwb_data","text":"wrapper around read_bwb_header2 read_bwb_header1_meta","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/read_bwb_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Import: read_bwb_data — read_bwb_data","text":"","code":"read_bwb_data(   files,   meta_pattern = \"META\",   keep_pattern = gather_ignore(),   site_id_pattern = \"^[0-9]{1,4}\",   dbg = TRUE )"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/read_bwb_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Import: read_bwb_data — read_bwb_data","text":"files file path(s) EXCEL spreadsheet meta_pattern (default: \"META\") keep_pattern (default: gather_ignore) site_id_pattern (default: \"^[0-9]1,4\") dbg debug (default: TRUE)","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/read_bwb_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Import: read_bwb_data — read_bwb_data","text":"data.table imported xls(x) files","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/read_bwb_header1_meta.html","id":null,"dir":"Reference","previous_headings":"","what":"Import: read_bwb_header1_meta — read_bwb_header1_meta","title":"Import: read_bwb_header1_meta — read_bwb_header1_meta","text":"Import: read_bwb_header1_meta","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/read_bwb_header1_meta.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Import: read_bwb_header1_meta — read_bwb_header1_meta","text":"","code":"read_bwb_header1_meta(   file,   meta_pattern = \"META\",   keep_pattern = gather_ignore(),   dbg = FALSE )"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/read_bwb_header1_meta.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Import: read_bwb_header1_meta — read_bwb_header1_meta","text":"file path(s) EXCEL spreadsheet meta_pattern meta_pattern default(\"META\") keep_pattern keep_pattern (default: gather_ignore) dbg debug (default: FALSE)","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/read_bwb_header1_meta.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Import: read_bwb_header1_meta — read_bwb_header1_meta","text":"data.table imported xls(x) files","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/read_bwb_header2.html","id":null,"dir":"Reference","previous_headings":"","what":"Import: read_bwb_header2 — read_bwb_header2","title":"Import: read_bwb_header2 — read_bwb_header2","text":"Import: read_bwb_header2","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/read_bwb_header2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Import: read_bwb_header2 — read_bwb_header2","text":"","code":"read_bwb_header2(   file,   skip = 2,   keep_pattern = gather_ignore(),   site_id_pattern = \"^[0-9]{1,4}\",   dbg = TRUE )"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/read_bwb_header2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Import: read_bwb_header2 — read_bwb_header2","text":"file file path(s) EXCEL spreadsheet skip number rows skip sheet (default: 2) keep_pattern (default: gather_ignore()) site_id_pattern (default: \"^[0-9]1,4\") dbg debug (default: TRUE)","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/read_bwb_header2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Import: read_bwb_header2 — read_bwb_header2","text":"data.table imported xls(x) files","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/read_bwb_header4.html","id":null,"dir":"Reference","previous_headings":"","what":"Import: read_bwb_header4 — read_bwb_header4","title":"Import: read_bwb_header4 — read_bwb_header4","text":"Import: read_bwb_header4","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/read_bwb_header4.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Import: read_bwb_header4 — read_bwb_header4","text":"","code":"read_bwb_header4(   file,   skip = 4,   keep_pattern = gather_ignore(),   site_id_pattern = \"^[0-9]{1,4}\",   dbg = TRUE )"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/read_bwb_header4.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Import: read_bwb_header4 — read_bwb_header4","text":"file file path(s) EXCEL spreadsheet skip number rows skip sheet (default: 4) keep_pattern (default: gather_ignore()) site_id_pattern (default: \"^[0-9]1,4\") dbg debug (default: TRUE)","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/read_bwb_header4.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Import: read_bwb_header4 — read_bwb_header4","text":"data.table imported xls(x) files","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/safe_office_folder.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function: safe_office_folder — safe_office_folder","title":"Helper function: safe_office_folder — safe_office_folder","text":"Helper function: safe_office_folder","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/safe_office_folder.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function: safe_office_folder — safe_office_folder","text":"","code":"safe_office_folder(office_path = \"C:/Program Files (x86)/Microsoft Office\")"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/safe_office_folder.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper function: safe_office_folder — safe_office_folder","text":"office_path office folder path (default: \"C:/Program Files (x86)/Microsoft Office\")","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/safe_office_folder.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Helper function: safe_office_folder — safe_office_folder","text":"path office folder (existing)","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/stop_formatted.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function: stop_formatted — stop_formatted","title":"Helper function: stop_formatted — stop_formatted","text":"Helper function: stop_formatted","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/stop_formatted.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function: stop_formatted — stop_formatted","text":"","code":"stop_formatted(fmt, ...)"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/stop_formatted.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper function: stop_formatted — stop_formatted","text":"fmt fmt ... arguments passed fmt","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/stop_formatted.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Helper function: stop_formatted — stop_formatted","text":"calls stop fmt additional arguments defined ...","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/stop_on_missing_or_inform_on_extra_sheets.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function: stop_on_missing_or_inform_on_extra_sheets — stop_on_missing_or_inform_on_extra_sheets","title":"Helper function: stop_on_missing_or_inform_on_extra_sheets — stop_on_missing_or_inform_on_extra_sheets","text":"Helper function: stop_on_missing_or_inform_on_extra_sheets","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/stop_on_missing_or_inform_on_extra_sheets.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function: stop_on_missing_or_inform_on_extra_sheets — stop_on_missing_or_inform_on_extra_sheets","text":"","code":"stop_on_missing_or_inform_on_extra_sheets(has_site_id, file, sheets)"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/stop_on_missing_or_inform_on_extra_sheets.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper function: stop_on_missing_or_inform_on_extra_sheets — stop_on_missing_or_inform_on_extra_sheets","text":"has_site_id has_site_id file file sheets sheets","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/to_full_metadata_2.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function: to_full_metadata2 — to_full_metadata_2","title":"Helper function: to_full_metadata2 — to_full_metadata_2","text":"Helper function: to_full_metadata2","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/to_full_metadata_2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function: to_full_metadata2 — to_full_metadata_2","text":"","code":"to_full_metadata_2(header, file, sheet)"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/to_full_metadata_2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper function: to_full_metadata2 — to_full_metadata_2","text":"header header file file sheet sheet","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/to_full_metadata_2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Helper function: to_full_metadata2 — to_full_metadata_2","text":"data frame metadata header2 (EXCEL) files","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/to_full_metadata_4.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function: to_full_metadata4 — to_full_metadata_4","title":"Helper function: to_full_metadata4 — to_full_metadata_4","text":"Helper function: to_full_metadata4","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/to_full_metadata_4.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function: to_full_metadata4 — to_full_metadata_4","text":"","code":"to_full_metadata_4(header, file, sheet)"},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/to_full_metadata_4.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper function: to_full_metadata4 — to_full_metadata_4","text":"header header file file sheet sheet","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/reference/to_full_metadata_4.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Helper function: to_full_metadata4 — to_full_metadata_4","text":"data frame metadata header4 (EXCEL) files","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/news/index.html","id":"kwbgeosalz-020-2022-06-01","dir":"Changelog","previous_headings":"","what":"kwb.geosalz 0.2.0 2022-06-01","title":"kwb.geosalz 0.2.0 2022-06-01","text":"Add get_foerdermengen_gal_fri() getting annual abstraction values well field galeries waterworks Friedrichshagen Add workflow Data Availability WW Friedrichshagen checking available data pre-project phase (see: workflow article)","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/news/index.html","id":"kwbgeosalz-010-2019-02-13","dir":"Changelog","previous_headings":"","what":"kwb.geosalz 0.1.0 2019-02-13","title":"kwb.geosalz 0.1.0 2019-02-13","text":"Release Zenodo","code":""},{"path":"https://kwb-r.github.io/kwb.geosalz/news/index.html","id":"kwbgeosalz-0109000-unreleased","dir":"Changelog","previous_headings":"","what":"kwb.geosalz 0.1.0.9000 unreleased","title":"kwb.geosalz 0.1.0.9000 unreleased","text":"Wrapped KWB-R/GeoSalz@88ae17 R package “kwb.geosalz” better workflow documentation Note: Formalising R scripts R package lead major improvements (bug removal) due build-“Check” functionality R packages! Integrated R functions Integrated “main.R” “vignettes/workflow.Rmd” documenting workflow see http://style.tidyverse.org/news.html writing good NEWS.md","code":""}]
